export enum PaymentStatus {
  PENDING = 'pending',
  COMPLETED = 'completed',
  FAILED = 'failed',
  REFUNDED = 'refunded'
}

export enum PaymentMethod {
  CREDIT_CARD = 'credit_card',
  DEBIT_CARD = 'debit_card',
  BANK_TRANSFER = 'bank_transfer',
  CASH = 'cash'
}

export interface Payment {
  id: string;
  bookingId: string;
  amount: number;
  method: PaymentMethod;
  status: PaymentStatus;
  transactionId?: string;
  paidAt?: string;
  createdAt: string;
  updatedAt: string;
}

// Client -> server request to create a payment (Stripe PaymentIntent or Checkout session)
export interface CreatePaymentRequest {
  bookingId: number | string;
  currency?: string; // e.g. 'usd'
  amount?: number; // optional; server can calculate
  idempotencyKey?: string;
}

// Server -> client minimal payment response
export interface PaymentResponse {
  clientSecret?: string; // for PaymentIntent (Elements)
  sessionId?: string; // for Checkout (client redirect)
  url?: string; // optional direct url to redirect to
  publishableKey?: string; // optional override
}

// PayPal capture request shape (if integrated)
export interface PayPalCaptureRequest {
  orderId: string;
  bookingId?: number | string;
}

export enum PaymentProvider {
  STRIPE = 'stripe',
  PAYPAL = 'paypal'
}

